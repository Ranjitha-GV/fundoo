<div class="container" fxLayout="row wrap" fxLayoutWrap fxLayoutGap="20px" fxLayoutAlign="center" class="main">
    <div *ngFor='let note of notesArray | searchFilter : searchElement; trackBy:note?.noteId'>
      <div [ngClass]="{'grid':toggle,'list':!toggle}">
        <mat-card align="center" [style.backgroundColor]="note.color">
            <app-pin [pinArray] = "note" (pinEmit) = "nextEntry($event)" class = "pin"></app-pin>
          <div align="left" (click)="openUpdateNotes(note)" style="cursor: pointer;">
            <!-- <img src="../../../assets/images/pin.svg" matTooltip="Pin" class="pin"> -->
            <b><div style="font-size: 20px;" [innerHTML]="note.title"></div></b> <br>
            <div style="font-size: 15px;" [innerHTML]="note.description"></div> <br>
          </div>
          <!-- *************************************** -->
          <div class="notes" *ngFor="let checklist of note.noteCheckLists" fxLayout="row" > 
              <mat-checkbox fxFlex="10%" *ngIf="checklist.status=='open'&& !checklist.isDeleted" 
              (click)=checkBox(checklist,note)></mat-checkbox>
              <input *ngIf="!checklist.isDeleted && checklist.status=='open' " 
              [(ngModel)]=checklist.itemName fxFlex="90%" class="note"
                (click)="open(note)" [style.backgroundColor]="note.color">
             </div>
            
              <div class="note" *ngFor="let checklist of note.noteCheckLists" fxLayout="row">
              <mat-checkbox fxFlex="10%" checked=true *ngIf="checklist.status=='close'&& !checklist.isDeleted"
               (click)=checkBox(checklist,note)></mat-checkbox>
              <del *ngIf="!checklist.isDeleted && checklist.status=='close'"
               (click)="open(note)">{{checklist.itemName}}</del>
            </div>
            <!-- ************************************************* -->
          <div fxLayout="row">
            <div *ngFor="let index of note.noteLabels" class="cancel">
              <div *ngIf="index.isDeleted == false">
                <mat-chip-list selected>
                  <mat-chip><span [innerHTML]="index.label"> </span>
                    <mat-icon matChipRemove (click)="remove(index.id,note.id)">cancel
                    </mat-icon>
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>
          </div>
          <!-- <div fxLayout="row" class = "reminder">
              <div *ngFor = "let index of note.reminder; trackBy:index?.id">
                  <mat-chip-list selected>
                    <mat-chip><span>{{index | date}},{{index | date: 'shortTime'}}</span>
                      <mat-icon matChipRemove (click) = "reminderDelete(note)">cancel</mat-icon>
                    </mat-chip>
                  </mat-chip-list>
                </div>
            </div> -->
            <div fxLayout="row" class="reminder">
              <div *ngIf="note.reminder.length!=0">
                <mat-chip-list>
                  <mat-chip>
                    <mat-icon (click)="reminderDelete(note)">query_builder</mat-icon>{{note.reminder | date:'medium'}}
                    <mat-icon (click)="$event.stopPropagation(); reminderDelete(note)">
                      cancel</mat-icon>
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>

          <div>
            <div class="tool" fxLayout="row">
              <app-toolbar class="mainStyle" [reminderValue]="note" (reminderEmit) = "nextEntry($event)"></app-toolbar>
              <app-collab class="mainStyle"></app-collab>
              <app-color class="mainStyle" [color]="note" (changeColor)=nextEntry($event)></app-color>
              <app-photo class="mainStyle"></app-photo>
              <app-archive-icon class="mainStyle" [archive]="note" (archiveEmit)=nextEntry($event)>
              </app-archive-icon>
              <app-more class="mainStyle" [notedetails]="note" (eventEntry)="nextEntry($event)"></app-more>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
